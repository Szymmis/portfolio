{"version":3,"sources":["main.js"],"names":["update","fadeAnimation","stepFrames","requestAnimationFrame","setVH","vh","window","innerHeight","console","log","document","documentElement","style","setProperty","getPropertyValue","setHeights","display","img","querySelector","width","ratio","naturalHeight","naturalWidth","complete","height","addEventListener","setFramesHeights","querySelectorAll","forEach","e","initFrames","f","i","position","left","reversed","classList","contains","top","innerWidth","TIMEOUT_MAX","STEP_SPEED_DIVIDER","makeStep","vertical","timeout","getAttribute","imgs","length","x","getTop","getLeft","step","setAttribute","element","undefined","Math","round","parseFloat","split","fade","titles","counter","previous","switched","b","opacity","getComputedStyle","delta","abs","innerHTML"],"mappings":"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","file":"main.546659a2.js","sourceRoot":"..","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n  setVH();\n  setFramesHeights();\n  initFrames();\n  requestAnimationFrame(update);\n\n  if (window.innerWidth > 600) {\n    window.addEventListener(\"resize\", () => {\n      setVH();\n      setFramesHeights();\n    });\n  }\n});\n\nfunction update() {\n  fadeAnimation();\n  stepFrames();\n  requestAnimationFrame(update);\n}\n\nfunction setVH() {\n  const vh = window.innerHeight / 100;\n  console.log(\"resizing\", { vh });\n  document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n  console.log(document.documentElement.style.getPropertyValue(\"--vh\"));\n}\n\nfunction setHeights(display) {\n  const img = display.querySelector(\"img\");\n  const { width } = img;\n  const ratio = img.naturalHeight / img.naturalWidth;\n  if (img.complete) {\n    display.style.height = `${ratio * width}px`;\n  } else {\n    img.addEventListener(\"load\", () => {\n      const { width } = img;\n      const ratio = img.naturalHeight / img.naturalWidth;\n      display.style.height = `${ratio * width}px`;\n    });\n  }\n}\n\nfunction setFramesHeights() {\n  document.querySelectorAll(\".display-image\").forEach((e) => setHeights(e));\n  document.querySelectorAll(\".display-vertical\").forEach((e) => setHeights(e));\n}\n\nfunction initFrames() {\n  document.querySelectorAll(\".display-image\").forEach((e) => {\n    e.querySelectorAll(\"img\").forEach((f, i) => {\n      f.style.position = \"absolute\";\n      f.style.left = `${-i * f.width}px`;\n    });\n  });\n  document.querySelectorAll(\".display-vertical\").forEach((e) => {\n    const reversed = e.classList.contains(\".--reversed\");\n\n    e.querySelectorAll(\"img\").forEach((f, i) => {\n      if (f.complete) {\n        const ratio = f.naturalHeight / f.naturalWidth;\n        f.style.position = \"absolute\";\n        f.style.top = `${(reversed ? i : -i) * (f.width * ratio - 2)}px`;\n      } else {\n        f.addEventListener(\"load\", () => {\n          const ratio = f.naturalHeight / f.naturalWidth;\n          f.style.position = \"absolute\";\n          f.style.top = `${(reversed ? i : -i) * (f.width * ratio - 2)}px`;\n        });\n      }\n    });\n  });\n}\n\nconst TIMEOUT_MAX = 240;\nconst STEP_SPEED_DIVIDER = 48;\n\nfunction makeStep(display, vertical = false) {\n  const timeout = display.getAttribute(\"data-timeout\") || TIMEOUT_MAX;\n\n  const reversed = display.classList.contains(\".--reversed\");\n\n  if (timeout <= 0) {\n    const imgs = display.querySelectorAll(\"img\");\n    if (imgs.length > 2) {\n      for (let i = 0; i < imgs.length; i++) {\n        const f = imgs[i];\n        const x = vertical ? getTop(f) : getLeft(f);\n        const step = vertical\n          ? reversed\n            ? -f.height / STEP_SPEED_DIVIDER\n            : f.height / STEP_SPEED_DIVIDER\n          : f.width / STEP_SPEED_DIVIDER;\n        if (\n          (!reversed && x < 0 && x + step >= 0) ||\n          (reversed && x > 0 && x + step <= 0)\n        ) {\n          display.setAttribute(\"data-timeout\", TIMEOUT_MAX);\n\n          f.style[vertical ? \"top\" : \"left\"] = `0px`;\n\n          imgs[(i + 1) % imgs.length].style[vertical ? \"top\" : \"left\"] = `${\n            vertical ? (reversed ? f.height - 1 : -f.height + 1) : -f.width\n          }px`;\n\n          imgs[i > 0 ? (i - 1) % imgs.length : imgs.length - 1].style[\n            vertical ? \"top\" : \"left\"\n          ] = `${vertical ? (reversed ? -f.height : f.height) : f.width}px`;\n\n          break;\n        } else {\n          f.style[vertical ? \"top\" : \"left\"] = `${x + step}px`;\n        }\n      }\n    }\n  } else {\n    display.setAttribute(\"data-timeout\", timeout - 1);\n  }\n}\n\nfunction stepFrames() {\n  document.querySelectorAll(\".display-image\").forEach((e) => makeStep(e));\n  document\n    .querySelectorAll(\".display-vertical\")\n    .forEach((e) => makeStep(e, true));\n}\n\nfunction getLeft(element) {\n  return element.style.left != undefined\n    ? Math.round(parseFloat(element.style.left.split(\"px\")[0]))\n    : 0;\n}\n\nfunction getTop(element) {\n  return element.style.top != undefined\n    ? Math.round(parseFloat(element.style.top.split(\"px\")[0]))\n    : 0;\n}\n\nconst fade = {\n  titles: [\"Front-End Developer\", \"Web Developer\", \"Fullstack Developer\"],\n  counter: 0,\n  previous: 1,\n  switched: false,\n};\n\nfunction fadeAnimation() {\n  let b = document.querySelector(\"header h3 b\");\n  const { opacity } = window.getComputedStyle(b);\n  const { titles, previous, switched } = fade;\n  const delta = Math.abs(previous - opacity);\n  fade.previous = opacity;\n\n  if (opacity <= delta) {\n    if (!switched) {\n      fade.counter++;\n      b.innerHTML = titles[fade.counter % titles.length];\n      fade.switched = true;\n    }\n  } else if (opacity >= 1 - delta) fade.switched = false;\n}\n"]}